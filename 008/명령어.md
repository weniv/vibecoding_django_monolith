# Django 블로그 웹 애플리케이션 구축 명령어 (CBV + Tailwind CSS)

## 목차
1. [초기 세팅](#초기-세팅)
2. [프로젝트 기본 설정](#프로젝트-기본-설정)
3. [앱 생성 및 등록](#앱-생성-및-등록)
4. [커스텀 User 모델 설정](#커스텀-user-모델-설정)
5. [모델 작성 및 마이그레이션](#모델-작성-및-마이그레이션)
6. [관리자 페이지 설정](#관리자-페이지-설정)
7. [템플릿 폴더 구조 생성](#템플릿-폴더-구조-생성)
8. [폼 작성](#폼-작성)
9. [뷰 작성 (CBV)](#뷰-작성-cbv)
10. [URL 설정](#url-설정)
11. [템플릿 작성](#템플릿-작성)
12. [마크다운 지원 설정](#마크다운-지원-설정)
13. [미디어 파일 설정](#미디어-파일-설정)
14. [최종 테스트](#최종-테스트)
15. [부트스트랩 적용](#부트스트랩-적용)

---

## 초기 세팅

### 1. 가상환경 생성 및 활성화 (Windows)
```bash
python -m venv venv
.\venv\Scripts\activate
```

### 2. Django 및 필수 패키지 설치
```bash
pip install django
pip install markdown
pip install Pillow
```

### 3. Django 프로젝트 생성
```bash
django-admin startproject config .
```

---

## 프로젝트 기본 설정

### 1. settings.py 기본 설정
**파일**: `config/settings.py`

기존 내용에 다음을 추가/수정:

```python
# config/settings.py

# 호스트 설정
ALLOWED_HOSTS = ["*"]

# 로그인/로그아웃 리다이렉트 설정
LOGIN_URL = '/accounts/login/'
LOGIN_REDIRECT_URL = '/'
LOGOUT_REDIRECT_URL = '/'
```

### 2. 서버 실행 확인
```bash
python manage.py runserver
```

브라우저에서 http://127.0.0.1:8000/ 접속하여 Django 초기 화면 확인

---

## 앱 생성 및 등록

### 1. main 앱 생성
```bash
python manage.py startapp main
```

### 2. accounts 앱 생성 (인증 관련)
```bash
python manage.py startapp accounts
```

### 3. blog 앱 생성
```bash
python manage.py startapp blog
```

### 4. settings.py에 앱 등록
**파일**: `config/settings.py`

```python
# config/settings.py

INSTALLED_APPS = [
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
    'main',      # 추가
    'accounts',  # 추가
    'blog',      # 추가
]
```

---

## 커스텀 User 모델 설정

### 1. User 모델 작성
**파일**: `accounts/models.py`

```python
# accounts/models.py
from django.contrib.auth.models import AbstractUser
from django.db import models


class User(AbstractUser):
    nickname = models.CharField(
        max_length=50,
        blank=True,
        null=True,
        verbose_name='닉네임'
    )
    profile_image = models.ImageField(
        upload_to='profile_images/',
        blank=True,
        null=True,
        verbose_name='프로필 이미지'
    )
    bio = models.TextField(
        blank=True,
        null=True,
        verbose_name='자기소개'
    )

    class Meta:
        verbose_name = '사용자'
        verbose_name_plural = '사용자 목록'

    def __str__(self):
        return self.get_display_name()

    def get_display_name(self):
        """닉네임이 있으면 닉네임, 없으면 username 반환"""
        return self.nickname if self.nickname else self.username
```

### 2. settings.py에 커스텀 User 모델 등록
**파일**: `config/settings.py`

```python
# config/settings.py

# 커스텀 User 모델 설정 (INSTALLED_APPS 아래에 추가)
AUTH_USER_MODEL = 'accounts.User'
```

### 3. User 모델 마이그레이션
```bash
python manage.py makemigrations accounts
python manage.py migrate accounts
```

---

## 모델 작성 및 마이그레이션

### 1. Tag, Post, Comment 모델 작성
**파일**: `blog/models.py`

```python
# blog/models.py
from django.db import models
from django.conf import settings
from django.utils.text import slugify


class Tag(models.Model):
    name = models.CharField(max_length=50, unique=True, verbose_name='태그명')
    slug = models.SlugField(max_length=50, unique=True, verbose_name='슬러그')
    created_at = models.DateTimeField(auto_now_add=True, verbose_name='생성일')

    class Meta:
        ordering = ['name']
        verbose_name = '태그'
        verbose_name_plural = '태그 목록'

    def __str__(self):
        return self.name

    def save(self, *args, **kwargs):
        if not self.slug:
            self.slug = slugify(self.name, allow_unicode=True)
        super().save(*args, **kwargs)

    def get_absolute_url(self):
        from django.urls import reverse
        return reverse('blog:post_by_tag', kwargs={'slug': self.slug})


class Post(models.Model):
    title = models.CharField(max_length=200, verbose_name='제목')
    content = models.TextField(verbose_name='내용')
    author = models.ForeignKey(
        settings.AUTH_USER_MODEL,
        on_delete=models.CASCADE,
        related_name='posts',
        verbose_name='작성자'
    )
    created_at = models.DateTimeField(auto_now_add=True, verbose_name='작성일')
    updated_at = models.DateTimeField(auto_now=True, verbose_name='수정일')
    is_published = models.BooleanField(default=True, verbose_name='공개 여부')
    view_count = models.IntegerField(default=0, verbose_name='조회수')
    likes = models.ManyToManyField(
        settings.AUTH_USER_MODEL,
        related_name='liked_posts',
        blank=True,
        verbose_name='좋아요'
    )
    thumbnail = models.ImageField(
        upload_to='post_images/',
        blank=True,
        null=True,
        verbose_name='썸네일 이미지'
    )
    tags = models.ManyToManyField(
        Tag,
        related_name='posts',
        blank=True,
        verbose_name='태그'
    )

    class Meta:
        ordering = ['-created_at']
        verbose_name = '게시글'
        verbose_name_plural = '게시글 목록'

    def __str__(self):
        return self.title

    def get_absolute_url(self):
        from django.urls import reverse
        return reverse('blog:post_detail', kwargs={'pk': self.pk})

    def increment_view_count(self):
        """조회수 1 증가"""
        self.view_count += 1
        self.save(update_fields=['view_count'])

    def total_likes(self):
        """총 좋아요 수 반환"""
        return self.likes.count()


class Comment(models.Model):
    post = models.ForeignKey(
        Post,
        on_delete=models.CASCADE,
        related_name='comments',
        verbose_name='게시글'
    )
    author = models.ForeignKey(
        settings.AUTH_USER_MODEL,
        on_delete=models.CASCADE,
        related_name='comments',
        verbose_name='작성자'
    )
    content = models.TextField(verbose_name='댓글 내용')
    created_at = models.DateTimeField(auto_now_add=True, verbose_name='작성일')
    updated_at = models.DateTimeField(auto_now=True, verbose_name='수정일')

    class Meta:
        ordering = ['created_at']
        verbose_name = '댓글'
        verbose_name_plural = '댓글 목록'

    def __str__(self):
        return f'{self.author.get_display_name()}: {self.content[:20]}'

    def get_absolute_url(self):
        return self.post.get_absolute_url()
```

### 2. 마이그레이션 실행
```bash
python manage.py makemigrations blog
python manage.py migrate blog
```

---

## 관리자 페이지 설정

### 1. 관리자 계정 생성
```bash
python manage.py migrate
python manage.py createsuperuser
# 예시:
# Username: admin
# Email: admin@example.com
# Password: admin1234!
```

### 2. accounts/admin.py 설정
**파일**: `accounts/admin.py`

```python
# accounts/admin.py
from django.contrib import admin
from django.contrib.auth.admin import UserAdmin
from .models import User


@admin.register(User)
class CustomUserAdmin(UserAdmin):
    list_display = ['username', 'email', 'nickname', 'is_staff', 'date_joined']
    fieldsets = UserAdmin.fieldsets + (
        ('추가 정보', {'fields': ('nickname', 'profile_image', 'bio')}),
    )
    add_fieldsets = UserAdmin.add_fieldsets + (
        ('추가 정보', {'fields': ('nickname', 'profile_image', 'bio')}),
    )
```

### 3. blog/admin.py 설정
**파일**: `blog/admin.py`

```python
# blog/admin.py
from django.contrib import admin
from .models import Post, Tag, Comment


@admin.register(Post)
class PostAdmin(admin.ModelAdmin):
    list_display = ['title', 'author', 'is_published', 'view_count', 'created_at']
    list_filter = ['is_published', 'created_at', 'tags']
    search_fields = ['title', 'content']
    filter_horizontal = ['tags', 'likes']
    readonly_fields = ['view_count', 'created_at', 'updated_at']


@admin.register(Tag)
class TagAdmin(admin.ModelAdmin):
    list_display = ['name', 'slug', 'created_at']
    search_fields = ['name']
    prepopulated_fields = {'slug': ('name',)}


@admin.register(Comment)
class CommentAdmin(admin.ModelAdmin):
    list_display = ['author', 'post', 'content', 'created_at']
    list_filter = ['created_at']
    search_fields = ['content', 'author__username']
```

### 4. 관리자 페이지 접속 및 테스트 데이터 입력
```
python manage.py runserver
```

```
http://127.0.0.1:8000/admin
```

**테스트 데이터 예시**:
1. Tag 생성: `Django`, `Python`, `웹개발`
2. Post 생성: 제목과 내용 입력, 태그 연결, is_published 체크
3. Comment 생성: 게시글에 댓글 작성

---

## 템플릿 폴더 구조 생성

### 1. 프로젝트 최상위에 templates 폴더 생성
```bash
mkdir templates
mkdir templates\main
mkdir templates\accounts
mkdir templates\blog
```

### 2. settings.py에 templates 경로 설정
**파일**: `config/settings.py`

```python
# config/settings.py

import os

TEMPLATES = [
    {
        'BACKEND': 'django.template.backends.django.DjangoTemplates',
        'DIRS': [os.path.join(BASE_DIR, 'templates')],  # 이 부분 수정
        'APP_DIRS': True,
        'OPTIONS': {
            'context_processors': [
                'django.template.context_processors.debug',
                'django.template.context_processors.request',
                'django.contrib.auth.context_processors.auth',
                'django.contrib.messages.context_processors.messages',
            ],
        },
    },
]
```

### 3. 폴더 구조 확인
```
프로젝트_루트/
├── templates/
│   ├── main/
│   │   ├── base.html
│   │   ├── home.html
│   │   ├── about.html
│   │   └── contact.html
│   ├── accounts/
│   │   ├── signup.html
│   │   └── login.html
│   └── blog/
│       ├── post_list.html
│       ├── post_detail.html
│       ├── post_form.html
│       ├── post_confirm_delete.html
│       ├── post_list_by_tag.html
│       ├── comment_form.html
│       └── comment_confirm_delete.html
```

---

## 폼 작성

### 1. accounts/forms.py 생성 및 작성
**파일**: `accounts/forms.py` (새로 생성)

```python
# accounts/forms.py
from django import forms
from django.contrib.auth.forms import UserCreationForm
from .models import User


class CustomUserCreationForm(UserCreationForm):
    class Meta:
        model = User
        fields = ['username', 'email', 'nickname', 'password1', 'password2']
        widgets = {
            'username': forms.TextInput(attrs={
                'class': 'w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent',
                'placeholder': '사용자명'
            }),
            'email': forms.EmailInput(attrs={
                'class': 'w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent',
                'placeholder': '이메일'
            }),
            'nickname': forms.TextInput(attrs={
                'class': 'w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent',
                'placeholder': '닉네임 (선택사항)'
            }),
        }

    def __init__(self, *args, **kwargs):
        super().__init__(*args, **kwargs)
        self.fields['password1'].widget.attrs.update({
            'class': 'w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent',
            'placeholder': '비밀번호'
        })
        self.fields['password2'].widget.attrs.update({
            'class': 'w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent',
            'placeholder': '비밀번호 확인'
        })
```

### 2. blog/forms.py 생성 및 작성
**파일**: `blog/forms.py` (새로 생성)

```python
# blog/forms.py
from django import forms
from .models import Post, Comment


class PostForm(forms.ModelForm):
    class Meta:
        model = Post
        fields = ['title', 'content', 'tags', 'thumbnail', 'is_published']
        widgets = {
            'title': forms.TextInput(attrs={
                'class': 'w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent',
                'placeholder': '제목을 입력하세요'
            }),
            'content': forms.Textarea(attrs={
                'class': 'w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent',
                'rows': 15,
                'placeholder': '마크다운 형식으로 작성 가능합니다'
            }),
            'tags': forms.CheckboxSelectMultiple(attrs={
                'class': 'mt-1'
            }),
            'thumbnail': forms.FileInput(attrs={
                'class': 'w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent'
            }),
            'is_published': forms.CheckboxInput(attrs={
                'class': 'w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500'
            }),
        }
        labels = {
            'title': '제목',
            'content': '내용',
            'tags': '태그',
            'thumbnail': '썸네일 이미지',
            'is_published': '공개',
        }


class CommentForm(forms.ModelForm):
    class Meta:
        model = Comment
        fields = ['content']
        widgets = {
            'content': forms.Textarea(attrs={
                'class': 'w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent',
                'rows': 3,
                'placeholder': '댓글을 입력하세요'
            }),
        }
        labels = {
            'content': '댓글',
        }
```

---

## 뷰 작성 (CBV)

### 1. main/views.py 작성
**파일**: `main/views.py`

```python
# main/views.py
from django.views.generic import TemplateView


class HomeView(TemplateView):
    template_name = 'main/home.html'


class AboutView(TemplateView):
    template_name = 'main/about.html'


class ContactView(TemplateView):
    template_name = 'main/contact.html'
```

### 2. accounts/views.py 작성
**파일**: `accounts/views.py`

```python
# accounts/views.py
from django.contrib.auth.views import LoginView as DjangoLoginView, LogoutView as DjangoLogoutView
from django.views.generic import CreateView
from django.urls import reverse_lazy
from .forms import CustomUserCreationForm


class SignUpView(CreateView):
    form_class = CustomUserCreationForm
    template_name = 'accounts/signup.html'
    success_url = reverse_lazy('accounts:login')


class LoginView(DjangoLoginView):
    template_name = 'accounts/login.html'
    redirect_authenticated_user = True


class LogoutView(DjangoLogoutView):
    next_page = 'main:home'
```

### 3. blog/views.py 작성
**파일**: `blog/views.py`

```python
# blog/views.py
from django.views.generic import ListView, DetailView, CreateView, UpdateView, DeleteView
from django.contrib.auth.mixins import LoginRequiredMixin, UserPassesTestMixin
from django.shortcuts import get_object_or_404
from django.urls import reverse_lazy
from django.db.models import Q
from .models import Post, Tag, Comment
from .forms import PostForm, CommentForm


# 게시글 목록
class PostListView(ListView):
    model = Post
    template_name = 'blog/post_list.html'
    context_object_name = 'posts'
    paginate_by = 10

    def get_queryset(self):
        queryset = Post.objects.filter(
            is_published=True
        ).select_related('author').prefetch_related('tags')

        # 검색 기능
        search = self.request.GET.get('search', '')
        if search:
            queryset = queryset.filter(
                Q(title__icontains=search) | Q(content__icontains=search)
            )

        return queryset

    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context['all_tags'] = Tag.objects.all()
        context['search'] = self.request.GET.get('search', '')
        return context


# 게시글 상세
class PostDetailView(DetailView):
    model = Post
    template_name = 'blog/post_detail.html'
    context_object_name = 'post'

    def get_queryset(self):
        return Post.objects.filter(
            is_published=True
        ).select_related('author').prefetch_related('tags', 'comments__author')

    def get_object(self, queryset=None):
        obj = super().get_object(queryset)
        # 조회수 증가
        obj.increment_view_count()
        return obj

    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context['comment_form'] = CommentForm()
        return context


# 게시글 작성
class PostCreateView(LoginRequiredMixin, CreateView):
    model = Post
    form_class = PostForm
    template_name = 'blog/post_form.html'

    def form_valid(self, form):
        form.instance.author = self.request.user
        return super().form_valid(form)


# 게시글 수정
class PostUpdateView(LoginRequiredMixin, UserPassesTestMixin, UpdateView):
    model = Post
    form_class = PostForm
    template_name = 'blog/post_form.html'

    def test_func(self):
        post = self.get_object()
        return self.request.user == post.author


# 게시글 삭제
class PostDeleteView(LoginRequiredMixin, UserPassesTestMixin, DeleteView):
    model = Post
    template_name = 'blog/post_confirm_delete.html'
    success_url = reverse_lazy('blog:post_list')

    def test_func(self):
        post = self.get_object()
        return self.request.user == post.author


# 태그별 게시글 목록
class PostByTagListView(ListView):
    model = Post
    template_name = 'blog/post_list_by_tag.html'
    context_object_name = 'posts'
    paginate_by = 10

    def get_queryset(self):
        self.tag = get_object_or_404(Tag, slug=self.kwargs['slug'])
        return Post.objects.filter(
            tags=self.tag,
            is_published=True
        ).select_related('author').prefetch_related('tags')

    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context['tag'] = self.tag
        context['all_tags'] = Tag.objects.all()
        return context


# 댓글 작성
class CommentCreateView(LoginRequiredMixin, CreateView):
    model = Comment
    form_class = CommentForm
    http_method_names = ['post']

    def form_valid(self, form):
        post = get_object_or_404(Post, pk=self.kwargs['post_pk'])
        form.instance.author = self.request.user
        form.instance.post = post
        return super().form_valid(form)

    def get_success_url(self):
        return self.object.post.get_absolute_url()


# 댓글 수정
class CommentUpdateView(LoginRequiredMixin, UserPassesTestMixin, UpdateView):
    model = Comment
    form_class = CommentForm
    template_name = 'blog/comment_form.html'

    def test_func(self):
        comment = self.get_object()
        return self.request.user == comment.author

    def get_success_url(self):
        return self.object.post.get_absolute_url()


# 댓글 삭제
class CommentDeleteView(LoginRequiredMixin, UserPassesTestMixin, DeleteView):
    model = Comment
    template_name = 'blog/comment_confirm_delete.html'

    def test_func(self):
        comment = self.get_object()
        return self.request.user == comment.author

    def get_success_url(self):
        return self.object.post.get_absolute_url()
```

---

## URL 설정

### 1. 프로젝트 URL 설정
**파일**: `config/urls.py`

```python
# config/urls.py
from django.contrib import admin
from django.urls import path, include
from django.conf import settings
from django.conf.urls.static import static

urlpatterns = [
    path('admin/', admin.site.urls),
    path('', include('main.urls')),
    path('accounts/', include('accounts.urls')),
    path('blog/', include('blog.urls')),
]

# 미디어 파일 서빙 (개발 환경에서만)
if settings.DEBUG:
    urlpatterns += static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)
```

### 2. main/urls.py 생성 및 작성
**파일**: `main/urls.py` (새로 생성)

```python
# main/urls.py
from django.urls import path
from . import views

app_name = 'main'

urlpatterns = [
    path('', views.HomeView.as_view(), name='home'),
    path('about/', views.AboutView.as_view(), name='about'),
    path('contact/', views.ContactView.as_view(), name='contact'),
]
```

### 3. accounts/urls.py 생성 및 작성
**파일**: `accounts/urls.py` (새로 생성)

```python
# accounts/urls.py
from django.urls import path
from . import views

app_name = 'accounts'

urlpatterns = [
    path('signup/', views.SignUpView.as_view(), name='signup'),
    path('login/', views.LoginView.as_view(), name='login'),
    path('logout/', views.LogoutView.as_view(), name='logout'),
]
```

### 4. blog/urls.py 생성 및 작성
**파일**: `blog/urls.py` (새로 생성)

```python
# blog/urls.py
from django.urls import path
from . import views

app_name = 'blog'

urlpatterns = [
    path('', views.PostListView.as_view(), name='post_list'),
    path('create/', views.PostCreateView.as_view(), name='post_create'),
    path('<int:pk>/', views.PostDetailView.as_view(), name='post_detail'),
    path('<int:pk>/update/', views.PostUpdateView.as_view(), name='post_update'),
    path('<int:pk>/delete/', views.PostDeleteView.as_view(), name='post_delete'),
    path('tag/<str:slug>/', views.PostByTagListView.as_view(), name='post_by_tag'),
    path('<int:post_pk>/comment/create/', views.CommentCreateView.as_view(), name='comment_create'),
    path('comment/<int:pk>/update/', views.CommentUpdateView.as_view(), name='comment_update'),
    path('comment/<int:pk>/delete/', views.CommentDeleteView.as_view(), name='comment_delete'),
]
```

---

## 템플릿 작성

### 1. 베이스 템플릿 작성 (Tailwind CSS 사용)
**파일**: `templates/main/base.html`

```html
<!-- templates/main/base.html -->
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Django 블로그{% endblock %}</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50">
    <!-- 네비게이션 바 -->
    <nav class="bg-blue-600 text-white shadow-lg">
        <div class="container mx-auto px-4 py-4">
            <div class="flex justify-between items-center">
                <div class="flex space-x-4">
                    <a href="{% url 'main:home' %}" class="hover:bg-blue-700 px-3 py-2 rounded transition">홈</a>
                    <a href="{% url 'main:about' %}" class="hover:bg-blue-700 px-3 py-2 rounded transition">소개</a>
                    <a href="{% url 'main:contact' %}" class="hover:bg-blue-700 px-3 py-2 rounded transition">연락처</a>
                    <a href="{% url 'blog:post_list' %}" class="hover:bg-blue-700 px-3 py-2 rounded transition">블로그</a>
                </div>
                <div class="flex space-x-4 items-center">
                    {% if user.is_authenticated %}
                        <a href="{% url 'blog:post_create' %}" class="bg-green-500 hover:bg-green-600 px-4 py-2 rounded transition">글쓰기</a>
                        <span class="px-3 py-2">{{ user.get_display_name }}님</span>
                        <form method="post" action="{% url 'accounts:logout' %}" class="inline">
                            {% csrf_token %}
                            <button type="submit" class="hover:bg-blue-700 px-3 py-2 rounded transition">로그아웃</button>
                        </form>
                    {% else %}
                        <a href="{% url 'accounts:login' %}" class="hover:bg-blue-700 px-3 py-2 rounded transition">로그인</a>
                        <a href="{% url 'accounts:signup' %}" class="bg-green-500 hover:bg-green-600 px-4 py-2 rounded transition">회원가입</a>
                    {% endif %}
                </div>
            </div>
        </div>
    </nav>

    <!-- 메인 컨텐츠 -->
    <div class="container mx-auto px-4 py-8 min-h-screen">
        {% block content %}
        {% endblock %}
    </div>

    <!-- 푸터 -->
    <footer class="bg-gray-800 text-white text-center py-6 mt-12">
        <div class="container mx-auto">
            <p>&copy; 2024 Django 블로그. All rights reserved.</p>
        </div>
    </footer>
</body>
</html>
```

### 2. 홈 페이지 템플릿
**파일**: `templates/main/home.html`

```html
<!-- templates/main/home.html -->
{% extends 'main/base.html' %}

{% block title %}홈 - Django 블로그{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto text-center">
    <h1 class="text-5xl font-bold text-gray-800 mb-6">Django 블로그에 오신 것을 환영합니다!</h1>
    <p class="text-xl text-gray-600 mb-4">이 블로그는 Django CBV를 사용하여 만들어졌습니다.</p>
    <p class="text-lg text-gray-500 mb-8">로그인, 회원가입, 게시글 작성/수정/삭제, 댓글 작성/수정/삭제, 마크다운 지원 등의 기능을 제공합니다.</p>
    <a href="{% url 'blog:post_list' %}" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg text-lg transition">
        블로그 보러가기
    </a>
</div>
{% endblock %}
```

### 3. 소개 페이지 템플릿
**파일**: `templates/main/about.html`

```html
<!-- templates/main/about.html -->
{% extends 'main/base.html' %}

{% block title %}소개 - Django 블로그{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <h1 class="text-4xl font-bold text-gray-800 mb-6">소개</h1>
    <div class="bg-white rounded-lg shadow-md p-6">
        <p class="text-lg text-gray-700 mb-4">이것은 Django CBV(Class Based View)로 만든 블로그입니다.</p>
        <p class="text-lg text-gray-700 mb-4">다음과 같은 기능을 제공합니다:</p>
        <ul class="list-disc list-inside text-gray-700 space-y-2 ml-4">
            <li>회원가입 및 로그인/로그아웃</li>
            <li>게시글 작성, 수정, 삭제</li>
            <li>게시글 목록 조회 및 상세 보기</li>
            <li>댓글 작성, 수정, 삭제</li>
            <li>태그 기능</li>
            <li>마크다운 지원</li>
            <li>조회수 및 좋아요 기능</li>
            <li>이미지 업로드 (프로필, 썸네일)</li>
        </ul>
    </div>
</div>
{% endblock %}
```

### 4. 연락처 페이지 템플릿
**파일**: `templates/main/contact.html`

```html
<!-- templates/main/contact.html -->
{% extends 'main/base.html' %}

{% block title %}연락처 - Django 블로그{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <h1 class="text-4xl font-bold text-gray-800 mb-6">연락처</h1>
    <div class="bg-white rounded-lg shadow-md p-6">
        <p class="text-lg text-gray-700 mb-2"><strong>Email:</strong> contact@example.com</p>
        <p class="text-lg text-gray-700"><strong>GitHub:</strong> https://github.com/example</p>
    </div>
</div>
{% endblock %}
```

### 5. 회원가입 템플릿
**파일**: `templates/accounts/signup.html`

```html
<!-- templates/accounts/signup.html -->
{% extends 'main/base.html' %}

{% block title %}회원가입 - Django 블로그{% endblock %}

{% block content %}
<div class="max-w-md mx-auto">
    <div class="bg-white rounded-lg shadow-md p-8">
        <h1 class="text-3xl font-bold text-gray-800 mb-6 text-center">회원가입</h1>

        <form method="post" class="space-y-4">
            {% csrf_token %}

            {% for field in form %}
            <div>
                <label for="{{ field.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
                    {{ field.label }}
                </label>
                {{ field }}
                {% if field.help_text %}
                <p class="mt-1 text-sm text-gray-500">{{ field.help_text|safe }}</p>
                {% endif %}
                {% if field.errors %}
                <div class="mt-1 text-sm text-red-600">{{ field.errors }}</div>
                {% endif %}
            </div>
            {% endfor %}

            <div class="flex space-x-4">
                <button type="submit" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition">
                    가입하기
                </button>
                <a href="{% url 'main:home' %}" class="flex-1 bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-lg text-center transition">
                    취소
                </a>
            </div>
        </form>

        <p class="mt-4 text-center text-gray-600">
            이미 계정이 있으신가요? <a href="{% url 'accounts:login' %}" class="text-blue-600 hover:underline">로그인</a>
        </p>
    </div>
</div>
{% endblock %}
```

### 6. 로그인 템플릿
**파일**: `templates/accounts/login.html`

```html
<!-- templates/accounts/login.html -->
{% extends 'main/base.html' %}

{% block title %}로그인 - Django 블로그{% endblock %}

{% block content %}
<div class="max-w-md mx-auto">
    <div class="bg-white rounded-lg shadow-md p-8">
        <h1 class="text-3xl font-bold text-gray-800 mb-6 text-center">로그인</h1>

        {% if form.errors %}
        <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4">
            아이디 또는 비밀번호가 올바르지 않습니다.
        </div>
        {% endif %}

        <form method="post" class="space-y-4">
            {% csrf_token %}

            <div>
                <label for="{{ form.username.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
                    사용자명
                </label>
                <input type="text" name="username" id="{{ form.username.id_for_label }}"
                       class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                       required>
            </div>

            <div>
                <label for="{{ form.password.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
                    비밀번호
                </label>
                <input type="password" name="password" id="{{ form.password.id_for_label }}"
                       class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                       required>
            </div>

            <div class="flex space-x-4">
                <button type="submit" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition">
                    로그인
                </button>
                <a href="{% url 'main:home' %}" class="flex-1 bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-lg text-center transition">
                    취소
                </a>
            </div>
        </form>

        <p class="mt-4 text-center text-gray-600">
            계정이 없으신가요? <a href="{% url 'accounts:signup' %}" class="text-blue-600 hover:underline">회원가입</a>
        </p>
    </div>
</div>
{% endblock %}
```

### 7. 게시글 목록 템플릿
**파일**: `templates/blog/post_list.html`

```html
<!-- templates/blog/post_list.html -->
{% extends 'main/base.html' %}

{% block title %}게시글 목록 - Django 블로그{% endblock %}

{% block content %}
<div class="max-w-6xl mx-auto">
    <!-- 헤더 -->
    <div class="flex justify-between items-center mb-6">
        <h1 class="text-4xl font-bold text-gray-800">게시글 목록</h1>
        {% if user.is_authenticated %}
        <a href="{% url 'blog:post_create' %}" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg transition">
            새 글 작성
        </a>
        {% endif %}
    </div>

    <!-- 검색 -->
    <div class="mb-6">
        <form method="get" class="flex">
            <input type="text" name="search" value="{{ search }}"
                   placeholder="제목 또는 내용 검색..."
                   class="flex-1 px-4 py-2 border border-gray-300 rounded-l-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
            <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-r-lg transition">
                검색
            </button>
        </form>
    </div>

    <!-- 전체 태그 목록 -->
    <div class="mb-6 bg-white rounded-lg shadow-md p-4">
        <h2 class="text-lg font-semibold text-gray-800 mb-3">태그</h2>
        <div class="flex flex-wrap gap-2">
            {% for tag in all_tags %}
            <a href="{% url 'blog:post_by_tag' tag.slug %}"
               class="bg-blue-100 hover:bg-blue-200 text-blue-800 px-3 py-1 rounded-full text-sm transition">
                {{ tag.name }}
            </a>
            {% empty %}
            <p class="text-gray-500">태그가 없습니다.</p>
            {% endfor %}
        </div>
    </div>

    <!-- 게시글 목록 -->
    {% if posts %}
        <div class="space-y-4">
            {% for post in posts %}
            <div class="bg-white rounded-lg shadow-md p-6 border-l-4 border-blue-600">
                <h2 class="text-2xl font-bold mb-2">
                    <a href="{% url 'blog:post_detail' post.pk %}" class="text-gray-800 hover:text-blue-600 transition">
                        {{ post.title }}
                    </a>
                </h2>
                <div class="text-sm text-gray-600 mb-3">
                    작성자: {{ post.author.get_display_name }} |
                    작성일: {{ post.created_at|date:"Y년 m월 d일 H:i" }} |
                    조회수: {{ post.view_count }} |
                    좋아요: {{ post.total_likes }}
                </div>
                <div class="flex flex-wrap gap-2">
                    {% for tag in post.tags.all %}
                    <a href="{% url 'blog:post_by_tag' tag.slug %}"
                       class="bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs hover:bg-blue-200 transition">
                        {{ tag.name }}
                    </a>
                    {% endfor %}
                </div>
            </div>
            {% endfor %}
        </div>

        <!-- 페이지네이션 -->
        {% if is_paginated %}
        <div class="flex justify-center mt-8 space-x-2">
            {% if page_obj.has_previous %}
            <a href="?page=1{% if search %}&search={{ search }}{% endif %}"
               class="px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded transition">처음</a>
            <a href="?page={{ page_obj.previous_page_number }}{% if search %}&search={{ search }}{% endif %}"
               class="px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded transition">이전</a>
            {% endif %}

            <span class="px-4 py-2 bg-blue-600 text-white rounded">
                페이지 {{ page_obj.number }} / {{ page_obj.paginator.num_pages }}
            </span>

            {% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}{% if search %}&search={{ search }}{% endif %}"
               class="px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded transition">다음</a>
            <a href="?page={{ page_obj.paginator.num_pages }}{% if search %}&search={{ search }}{% endif %}"
               class="px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded transition">마지막</a>
            {% endif %}
        </div>
        {% endif %}
    {% else %}
        <div class="bg-white rounded-lg shadow-md p-12 text-center">
            <p class="text-gray-500 text-lg">게시글이 없습니다.</p>
        </div>
    {% endif %}
</div>
{% endblock %}
```

### 8. 게시글 상세 템플릿
**파일**: `templates/blog/post_detail.html`

```html
<!-- templates/blog/post_detail.html -->
{% extends 'main/base.html' %}
{% load markdown_extras %}

{% block title %}{{ post.title }} - Django 블로그{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <!-- 게시글 헤더 -->
    <article class="bg-white rounded-lg shadow-md p-8 mb-6">
        <h1 class="text-4xl font-bold text-gray-800 mb-4">{{ post.title }}</h1>

        <div class="flex items-center justify-between mb-4 pb-4 border-b">
            <div class="text-sm text-gray-600">
                작성자: <strong>{{ post.author.get_display_name }}</strong> |
                작성일: {{ post.created_at|date:"Y년 m월 d일 H:i" }} |
                수정일: {{ post.updated_at|date:"Y년 m월 d일 H:i" }}
            </div>
            <div class="text-sm text-gray-600">
                조회수: {{ post.view_count }} | 좋아요: {{ post.total_likes }}
            </div>
        </div>

        <!-- 태그 -->
        <div class="mb-6">
            {% for tag in post.tags.all %}
            <a href="{% url 'blog:post_by_tag' tag.slug %}"
               class="inline-block bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm hover:bg-blue-200 transition mr-2">
                {{ tag.name }}
            </a>
            {% empty %}
            <span class="text-gray-500 text-sm">태그 없음</span>
            {% endfor %}
        </div>

        <!-- 썸네일 이미지 -->
        {% if post.thumbnail %}
        <div class="mb-6">
            <img src="{{ post.thumbnail.url }}" alt="{{ post.title }}" class="w-full rounded-lg">
        </div>
        {% endif %}

        <!-- 게시글 내용 -->
        <div class="prose max-w-none text-gray-700 leading-relaxed">
            {{ post.content|markdown|safe }}
        </div>

        <!-- 액션 버튼 -->
        <div class="mt-8 pt-6 border-t flex space-x-3">
            <a href="{% url 'blog:post_list' %}"
               class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-6 rounded-lg transition">
                목록으로
            </a>
            {% if user == post.author %}
            <a href="{% url 'blog:post_update' post.pk %}"
               class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg transition">
                수정
            </a>
            <a href="{% url 'blog:post_delete' post.pk %}"
               class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-6 rounded-lg transition">
                삭제
            </a>
            {% endif %}
        </div>
    </article>

    <!-- 댓글 섹션 -->
    <section class="bg-white rounded-lg shadow-md p-8">
        <h2 class="text-2xl font-bold text-gray-800 mb-6">댓글 ({{ post.comments.count }})</h2>

        <!-- 댓글 작성 폼 -->
        {% if user.is_authenticated %}
        <form method="post" action="{% url 'blog:comment_create' post.pk %}" class="mb-8">
            {% csrf_token %}
            <div class="mb-4">
                {{ comment_form.content }}
            </div>
            <button type="submit"
                    class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg transition">
                댓글 작성
            </button>
        </form>
        {% else %}
        <p class="mb-8 text-gray-600">
            <a href="{% url 'accounts:login' %}" class="text-blue-600 hover:underline">로그인</a>하시면 댓글을 작성할 수 있습니다.
        </p>
        {% endif %}

        <!-- 댓글 목록 -->
        <div class="space-y-4">
            {% for comment in post.comments.all %}
            <div class="bg-gray-50 rounded-lg p-4">
                <div class="flex justify-between items-start mb-2">
                    <div class="text-sm text-gray-600">
                        <strong>{{ comment.author.get_display_name }}</strong> |
                        {{ comment.created_at|date:"Y년 m월 d일 H:i" }}
                    </div>
                    {% if user == comment.author %}
                    <div class="flex space-x-2">
                        <a href="{% url 'blog:comment_update' comment.pk %}"
                           class="text-blue-600 hover:underline text-sm">수정</a>
                        <a href="{% url 'blog:comment_delete' comment.pk %}"
                           class="text-red-600 hover:underline text-sm">삭제</a>
                    </div>
                    {% endif %}
                </div>
                <div class="text-gray-700">{{ comment.content|linebreaks }}</div>
            </div>
            {% empty %}
            <p class="text-gray-500 text-center py-8">첫 댓글을 작성해보세요!</p>
            {% endfor %}
        </div>
    </section>
</div>
{% endblock %}
```

### 9. 게시글 작성/수정 폼 템플릿
**파일**: `templates/blog/post_form.html`

```html
<!-- templates/blog/post_form.html -->
{% extends 'main/base.html' %}

{% block title %}
{% if form.instance.pk %}게시글 수정{% else %}게시글 작성{% endif %} - Django 블로그
{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <div class="bg-white rounded-lg shadow-md p-8">
        <h1 class="text-3xl font-bold text-gray-800 mb-6">
            {% if form.instance.pk %}게시글 수정{% else %}게시글 작성{% endif %}
        </h1>

        <form method="post" enctype="multipart/form-data" class="space-y-6">
            {% csrf_token %}

            <div>
                <label for="{{ form.title.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
                    {{ form.title.label }}
                </label>
                {{ form.title }}
                {% if form.title.errors %}
                <div class="mt-1 text-sm text-red-600">{{ form.title.errors }}</div>
                {% endif %}
            </div>

            <div>
                <label for="{{ form.content.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
                    {{ form.content.label }}
                </label>
                {{ form.content }}
                <small class="text-gray-500">마크다운 문법을 사용할 수 있습니다.</small>
                {% if form.content.errors %}
                <div class="mt-1 text-sm text-red-600">{{ form.content.errors }}</div>
                {% endif %}
            </div>

            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">{{ form.tags.label }}</label>
                <div class="space-y-2">
                    {% for checkbox in form.tags %}
                    <div class="flex items-center">
                        {{ checkbox }}
                    </div>
                    {% endfor %}
                </div>
                {% if form.tags.errors %}
                <div class="mt-1 text-sm text-red-600">{{ form.tags.errors }}</div>
                {% endif %}
            </div>

            <div>
                <label for="{{ form.thumbnail.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
                    {{ form.thumbnail.label }}
                </label>
                {{ form.thumbnail }}
                {% if form.thumbnail.errors %}
                <div class="mt-1 text-sm text-red-600">{{ form.thumbnail.errors }}</div>
                {% endif %}
            </div>

            <div class="flex items-center">
                {{ form.is_published }}
                <label for="{{ form.is_published.id_for_label }}" class="ml-2 text-sm font-medium text-gray-700">
                    {{ form.is_published.label }}
                </label>
                {% if form.is_published.errors %}
                <div class="mt-1 text-sm text-red-600">{{ form.is_published.errors }}</div>
                {% endif %}
            </div>

            <div class="flex space-x-4">
                <button type="submit"
                        class="flex-1 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg transition">
                    {% if form.instance.pk %}수정 완료{% else %}작성 완료{% endif %}
                </button>
                <a href="{% if form.instance.pk %}{% url 'blog:post_detail' form.instance.pk %}{% else %}{% url 'blog:post_list' %}{% endif %}"
                   class="flex-1 bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-6 rounded-lg text-center transition">
                    취소
                </a>
            </div>
        </form>
    </div>
</div>
{% endblock %}
```

### 10. 게시글 삭제 확인 템플릿
**파일**: `templates/blog/post_confirm_delete.html`

```html
<!-- templates/blog/post_confirm_delete.html -->
{% extends 'main/base.html' %}

{% block title %}게시글 삭제 - Django 블로그{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto">
    <div class="bg-white rounded-lg shadow-md p-8">
        <h1 class="text-3xl font-bold text-gray-800 mb-6">게시글 삭제</h1>

        <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6">
            <p class="font-bold mb-2">정말로 이 게시글을 삭제하시겠습니까?</p>
            <p>제목: <strong>{{ post.title }}</strong></p>
            <p class="mt-2">이 작업은 되돌릴 수 없습니다.</p>
        </div>

        <form method="post" class="flex space-x-4">
            {% csrf_token %}
            <button type="submit"
                    class="flex-1 bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-6 rounded-lg transition">
                삭제
            </button>
            <a href="{% url 'blog:post_detail' post.pk %}"
               class="flex-1 bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-6 rounded-lg text-center transition">
                취소
            </a>
        </form>
    </div>
</div>
{% endblock %}
```

### 11. 댓글 수정 폼 템플릿
**파일**: `templates/blog/comment_form.html`

```html
<!-- templates/blog/comment_form.html -->
{% extends 'main/base.html' %}

{% block title %}댓글 수정 - Django 블로그{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto">
    <div class="bg-white rounded-lg shadow-md p-8">
        <h1 class="text-3xl font-bold text-gray-800 mb-6">댓글 수정</h1>

        <form method="post" class="space-y-4">
            {% csrf_token %}

            <div>
                {{ form.content }}
                {% if form.content.errors %}
                <div class="mt-1 text-sm text-red-600">{{ form.content.errors }}</div>
                {% endif %}
            </div>

            <div class="flex space-x-4">
                <button type="submit"
                        class="flex-1 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg transition">
                    수정 완료
                </button>
                <a href="{{ comment.post.get_absolute_url }}"
                   class="flex-1 bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-6 rounded-lg text-center transition">
                    취소
                </a>
            </div>
        </form>
    </div>
</div>
{% endblock %}
```

### 12. 댓글 삭제 확인 템플릿
**파일**: `templates/blog/comment_confirm_delete.html`

```html
<!-- templates/blog/comment_confirm_delete.html -->
{% extends 'main/base.html' %}

{% block title %}댓글 삭제 - Django 블로그{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto">
    <div class="bg-white rounded-lg shadow-md p-8">
        <h1 class="text-3xl font-bold text-gray-800 mb-6">댓글 삭제</h1>

        <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6">
            <p class="font-bold mb-2">정말로 이 댓글을 삭제하시겠습니까?</p>
            <p>내용: {{ comment.content|truncatewords:20 }}</p>
            <p class="mt-2">이 작업은 되돌릴 수 없습니다.</p>
        </div>

        <form method="post" class="flex space-x-4">
            {% csrf_token %}
            <button type="submit"
                    class="flex-1 bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-6 rounded-lg transition">
                삭제
            </button>
            <a href="{{ comment.post.get_absolute_url }}"
               class="flex-1 bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-6 rounded-lg text-center transition">
                취소
            </a>
        </form>
    </div>
</div>
{% endblock %}
```

### 13. 태그별 게시글 목록 템플릿
**파일**: `templates/blog/post_list_by_tag.html`

```html
<!-- templates/blog/post_list_by_tag.html -->
{% extends 'main/base.html' %}

{% block title %}{{ tag.name }} 태그 - Django 블로그{% endblock %}

{% block content %}
<div class="max-w-6xl mx-auto">
    <h1 class="text-4xl font-bold text-gray-800 mb-6">'{{ tag.name }}' 태그의 게시글</h1>

    <!-- 전체 태그 목록 -->
    <div class="mb-6 bg-white rounded-lg shadow-md p-4">
        <h2 class="text-lg font-semibold text-gray-800 mb-3">다른 태그</h2>
        <div class="flex flex-wrap gap-2">
            {% for t in all_tags %}
            <a href="{% url 'blog:post_by_tag' t.slug %}"
               class="{% if t == tag %}bg-blue-600 text-white{% else %}bg-blue-100 text-blue-800{% endif %} px-3 py-1 rounded-full text-sm hover:bg-blue-200 transition">
                {{ t.name }}
            </a>
            {% endfor %}
        </div>
    </div>

    {% if posts %}
        <div class="space-y-4">
            {% for post in posts %}
            <div class="bg-white rounded-lg shadow-md p-6 border-l-4 border-blue-600">
                <h2 class="text-2xl font-bold mb-2">
                    <a href="{% url 'blog:post_detail' post.pk %}" class="text-gray-800 hover:text-blue-600 transition">
                        {{ post.title }}
                    </a>
                </h2>
                <div class="text-sm text-gray-600">
                    작성자: {{ post.author.get_display_name }} |
                    작성일: {{ post.created_at|date:"Y년 m월 d일 H:i" }}
                </div>
            </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="bg-white rounded-lg shadow-md p-12 text-center">
            <p class="text-gray-500 text-lg">이 태그에 해당하는 게시글이 없습니다.</p>
        </div>
    {% endif %}

    <div class="mt-6">
        <a href="{% url 'blog:post_list' %}"
           class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-6 rounded-lg transition">
            전체 목록으로
        </a>
    </div>
</div>
{% endblock %}
```

---

## 마크다운 지원 설정

### 1. templatetags 폴더 생성
```bash
mkdir blog\templatetags
```

### 2. __init__.py 생성
**파일**: `blog/templatetags/__init__.py` (빈 파일 생성)

```python
# blog/templatetags/__init__.py
# 빈 파일
```

### 3. 마크다운 템플릿 필터 작성
**파일**: `blog/templatetags/markdown_extras.py` (새로 생성)

```python
# blog/templatetags/markdown_extras.py
from django import template
import markdown as md

register = template.Library()

@register.filter(name='markdown')
def markdown_format(text):
    """마크다운 텍스트를 HTML로 변환"""
    return md.markdown(
        text,
        extensions=[
            'fenced_code',
            'codehilite',
            'tables',
            'nl2br',
        ]
    )
```

---

## 미디어 파일 설정

### 1. settings.py에 미디어 파일 설정 추가
**파일**: `config/settings.py`

```python
# config/settings.py

import os

# Static files (CSS, JavaScript, Images)
STATIC_URL = '/static/'
STATICFILES_DIRS = [
    os.path.join(BASE_DIR, 'static'),
]
STATIC_ROOT = os.path.join(BASE_DIR, 'staticfiles')

# Media files (User uploaded files)
MEDIA_URL = '/media/'
MEDIA_ROOT = os.path.join(BASE_DIR, 'media')
```

### 2. 미디어 폴더 생성
```bash
mkdir media
mkdir media\profile_images
mkdir media\post_images
```

---

## 최종 테스트

### 1. 서버 실행
```bash
python manage.py runserver
```

### 2. 테스트 시나리오

#### 2.1 회원가입 및 로그인
1. http://127.0.0.1:8000/accounts/signup/ 접속
2. 회원가입 진행 (닉네임 입력)
3. http://127.0.0.1:8000/accounts/login/ 에서 로그인

#### 2.2 게시글 작성
1. http://127.0.0.1:8000/blog/create/ 접속
2. 마크다운 문법으로 게시글 작성 예시:
```markdown
# 제목입니다

이것은 **굵은 글씨**이고, 이것은 *기울임*입니다.

## 리스트
- 항목 1
- 항목 2
- 항목 3
```

#### 2.3 태그 필터링
1. 게시글 목록에서 전체 태그 확인
2. 태그 클릭하여 해당 태그의 게시글만 보기

#### 2.4 댓글 작성
1. 게시글 상세 페이지에서 댓글 작성
2. 자신의 댓글 수정/삭제 테스트

#### 2.5 게시글 수정 및 삭제
1. 자신이 작성한 게시글 수정
2. 자신이 작성한 게시글 삭제

#### 2.6 검색 기능
1. 게시글 목록에서 검색어 입력
2. 제목 또는 내용에 검색어 포함된 게시글만 표시 확인

#### 2.7 권한 테스트
1. 다른 사용자로 로그인하여 타인의 게시글 수정/삭제 시도 (403 에러 발생 확인)
2. 로그아웃 후 게시글 작성 시도 (로그인 페이지로 리다이렉트 확인)

---

## 완료!

이제 다음 기능이 모두 포함된 Django 블로그 웹 애플리케이션이 완성되었습니다:

- CBV(Class Based View) 방식으로 구현
- Tailwind CSS를 사용한 모던한 스타일링
- 프로젝트 최상위 templates 폴더 사용
- 커스텀 User 모델 (닉네임, 프로필 이미지, 자기소개)
- 게시글 CRUD (조회수, 좋아요, 썸네일 이미지)
- 댓글 CRUD
- 태그 기능 (전체 태그 목록 표시 및 필터링)
- 마크다운 지원
- 검색 기능
- 권한 관리

모든 요구사항을 충족하는 완전한 블로그 시스템입니다!

---

## 부트스트랩 적용

지금 이 폴더 상위에 `startbootstrap-clean-blog-gh-pages` 폴더가 있다고 가정하고, 해당 부트스트랩 템플릿을 Django 프로젝트에 통합하는 방법을 안내합니다.

* claude code 프롬프트: boostrap_적용.md 파일 참고